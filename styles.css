/* REALIA Complete Demo (A) */
:root{
  --bg0:#070b14; --bg1:#0b1430;
  --card: rgba(255,255,255,.06);
  --line: rgba(255,255,255,.10);
  --text: rgba(255,255,255,.92);
  --muted: rgba(255,255,255,.66);
  --accent:#5aa7ff; --accent2:#b06cff;
  --shadow: 0 20px 60px rgba(0,0,0,.55);
  --radius2: 22px; --blur: 18px;
  --sans: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
}
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0; font-family:var(--sans); color:var(--text);
  background:
    radial-gradient(1200px 800px at 20% 10%, rgba(90,167,255,.16), transparent 55%),
    radial-gradient(900px 700px at 70% 0%, rgba(176,108,255,.14), transparent 50%),
    radial-gradient(900px 700px at 70% 70%, rgba(60,220,170,.10), transparent 55%),
    linear-gradient(180deg, var(--bg0), var(--bg1));
  overflow-x:hidden;
}
.topbar{
  position:sticky; top:0; z-index:50;
  backdrop-filter: blur(var(--blur)); -webkit-backdrop-filter: blur(var(--blur));
  background: rgba(8,12,24,.62);
  border-bottom:1px solid var(--line);
  padding:14px 16px;
  display:flex; gap:14px; align-items:center; justify-content:space-between;
}
.brand{display:flex; gap:12px; align-items:center}
.logo{
  width:40px;height:40px;border-radius:12px;
  background: linear-gradient(135deg, rgba(90,167,255,.95), rgba(176,108,255,.95));
  display:grid;place-items:center;
  font-weight:800; letter-spacing:.5px;
  box-shadow: 0 10px 26px rgba(90,167,255,.18), 0 10px 26px rgba(176,108,255,.12);
}
.brandName{font-weight:800; letter-spacing:.4px}
.brandSub{font-size:12px; color:var(--muted); margin-top:2px}
.statusPills{display:flex; gap:10px; flex-wrap:wrap; justify-content:flex-end}
.pill{
  padding:8px 10px; border-radius:999px;
  border:1px solid var(--line);
  background: rgba(255,255,255,.05);
  font-size:12px;
  max-width:min(68vw, 560px);
  white-space:nowrap; overflow:hidden; text-overflow:ellipsis;
}
.pill.subtle{color:var(--muted)}
.layout{
  max-width:1100px; margin:18px auto 24px; padding:0 14px;
  display:grid; grid-template-columns:1.3fr .9fr; gap:14px;
}
@media (max-width:980px){ .layout{grid-template-columns:1fr} }
.card{
  background: var(--card);
  border:1px solid var(--line);
  border-radius: var(--radius2);
  box-shadow: var(--shadow);
  overflow:hidden;
}
.cardHead{padding:16px 16px 10px; border-bottom:1px solid rgba(255,255,255,.06)}
.cardHead h1,.cardHead h2{margin:0 0 6px 0}
.cardHead p{margin:0; color:var(--muted); line-height:1.45}
.muted{color:var(--muted)}
.worldWrap{position:relative; padding:14px}
#world{
  width:100%; height:auto; aspect-ratio:16/9;
  border-radius:18px; border:1px solid rgba(255,255,255,.10);
  background:
    radial-gradient(900px 520px at 30% 18%, rgba(90,167,255,.14), transparent 56%),
    radial-gradient(720px 520px at 70% 20%, rgba(176,108,255,.12), transparent 56%),
    linear-gradient(180deg, rgba(6,10,18,.95), rgba(4,7,15,.96));
  box-shadow: 0 18px 50px rgba(0,0,0,.5);
}
.hud{
  position:absolute; left:24px; bottom:24px; right:24px;
  display:flex; flex-direction:column; gap:10px; pointer-events:none;
}
.hudRow{display:flex; gap:10px; flex-wrap:wrap; pointer-events:auto}
.hudRow.tiny{font-size:12px;color:var(--muted); pointer-events:none}
.btn{
  border:1px solid rgba(255,255,255,.14);
  background: rgba(255,255,255,.06);
  color:var(--text);
  padding:10px 14px; border-radius:999px;
  font-weight:700; cursor:pointer;
  user-select:none; -webkit-tap-highlight-color: transparent;
}
.btn:hover{background: rgba(255,255,255,.09)}
.btn:disabled{opacity:.45; cursor:not-allowed}
.btn.primary{
  border-color: rgba(90,167,255,.45);
  background: linear-gradient(135deg, rgba(90,167,255,.92), rgba(70,140,255,.82));
  box-shadow: 0 10px 26px rgba(90,167,255,.16);
}
.btn.primary:hover{filter:brightness(1.03)}
.btn.ghost{background: rgba(0,0,0,.14)}
.btn.ghost:hover{background: rgba(0,0,0,.20)}
.toast{
  position:absolute; left:22px; top:18px;
  max-width:min(82%, 520px);
  padding:10px 12px; border-radius:14px;
  border:1px solid rgba(255,255,255,.12);
  background: rgba(10,14,26,.55);
  backdrop-filter: blur(16px); -webkit-backdrop-filter: blur(16px);
  color: rgba(255,255,255,.86);
  font-size:12px; line-height:1.35;
  opacity:0; transform: translateY(-8px);
  transition:.22s ease; pointer-events:none;
}
.toast.show{opacity:1; transform: translateY(0)}
.joystick{
  position:absolute; left:26px; bottom:28px;
  width:160px; height:160px; display:none;
  touch-action:none; pointer-events:auto;
}
@media (max-width:900px){ .joystick{display:block} }
.joyBase{
  position:absolute; inset:0; border-radius:999px;
  background: radial-gradient(circle at 30% 30%, rgba(90,167,255,.22), rgba(176,108,255,.10) 50%, rgba(0,0,0,.28));
  border:1px solid rgba(255,255,255,.14);
  box-shadow: 0 20px 60px rgba(0,0,0,.38);
}
.joyKnob{
  position:absolute; left:50%; top:50%;
  width:68px; height:68px; margin-left:-34px; margin-top:-34px;
  border-radius:999px;
  background: radial-gradient(circle at 30% 30%, rgba(255,255,255,.22), rgba(255,255,255,.06));
  border:1px solid rgba(255,255,255,.16);
  box-shadow: 0 16px 30px rgba(0,0,0,.45);
}
.joyLabel{position:absolute; left:0; right:0; bottom:-18px; text-align:center; font-size:11px; color: rgba(255,255,255,.55)}
.minimap{
  position:absolute; right:24px; top:18px;
  width:190px; padding:10px;
  border-radius:16px;
  border:1px solid rgba(255,255,255,.12);
  background: rgba(10,14,26,.46);
  backdrop-filter: blur(16px); -webkit-backdrop-filter: blur(16px);
}
#minimap{width:100%; height:auto; border-radius:12px; border:1px solid rgba(255,255,255,.10); background: rgba(0,0,0,.22)}
.miniLegend{display:flex; gap:10px; align-items:center; flex-wrap:wrap; margin-top:8px; color: rgba(255,255,255,.72); font-size:11px}
.dot{width:10px;height:10px;border-radius:999px; display:inline-block; border:1px solid rgba(255,255,255,.28)}
.dot.player{background: rgba(90,167,255,.9)}
.dot.gate{background: rgba(71,209,140,.95)}
.dot.npc{background: rgba(176,108,255,.95)}
.chatLog{padding:14px 14px 10px; height:420px; overflow:auto; display:flex; flex-direction:column; gap:10px}
@media (max-width:980px){ .chatLog{height:360px} }
.msg{border:1px solid rgba(255,255,255,.10); background: rgba(255,255,255,.05); border-radius:16px; padding:10px 12px; line-height:1.45}
.msg .who{font-size:12px; color: rgba(255,255,255,.72); margin-bottom:4px}
.msg.user{border-color: rgba(90,167,255,.22); background: rgba(90,167,255,.10)}
.msg.ai{border-color: rgba(176,108,255,.22); background: rgba(176,108,255,.10)}
.chatBar{padding:12px 14px 14px; border-top:1px solid rgba(255,255,255,.06); display:flex; gap:10px}
.chatBar input{
  flex:1; min-width:0; padding:12px 12px;
  border-radius:14px; border:1px solid rgba(255,255,255,.12);
  background: rgba(0,0,0,.18); color: var(--text); outline:none;
}
.chatBar input:focus{border-color: rgba(90,167,255,.35)}
.chatMeta{padding:0 14px 14px; display:flex; justify-content:space-between; font-size:12px; color: rgba(255,255,255,.70)}
.modal{position:fixed; inset:0; display:grid; place-items:center; z-index:90}
.modal.hidden{display:none}
.modalBack{position:absolute; inset:0; background: rgba(0,0,0,.55); backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px)}
.modalCard{
  position:relative; width:min(980px, 92vw);
  border-radius:22px; border:1px solid rgba(255,255,255,.14);
  background: rgba(12,16,30,.78);
  box-shadow: 0 30px 90px rgba(0,0,0,.60);
  overflow:hidden;
}
.modalTop{padding:14px 14px 12px; display:flex; align-items:center; justify-content:space-between; border-bottom:1px solid rgba(255,255,255,.08)}
.modalTitle{font-size:18px; font-weight:850}
.modalSub{font-size:12px; color: rgba(255,255,255,.70); margin-top:2px}
.modalBody{padding:14px}
.sceneGrid{display:grid; grid-template-columns:1.2fr .8fr; gap:14px}
@media (max-width:920px){ .sceneGrid{grid-template-columns:1fr} }
.sceneThumb{
  height:360px; border-radius:18px; border:1px solid rgba(255,255,255,.12);
  background:
    radial-gradient(920px 420px at 30% 18%, rgba(90,167,255,.22), transparent 60%),
    radial-gradient(920px 520px at 70% 10%, rgba(176,108,255,.18), transparent 60%),
    linear-gradient(180deg, rgba(5,9,18,.92), rgba(3,6,14,.96));
  position:relative; overflow:hidden;
}
.sceneThumb::before{
  content:""; position:absolute; inset:-80px;
  background: linear-gradient(90deg, rgba(255,255,255,.00), rgba(255,255,255,.06), rgba(255,255,255,.00));
  transform: rotate(18deg);
  animation: sheen 5.5s ease-in-out infinite;
  opacity:.8;
}
@keyframes sheen{0%{transform:translateX(-30%) rotate(18deg)}60%{transform:translateX(30%) rotate(18deg)}100%{transform:translateX(30%) rotate(18deg)}}
.sceneOverlay{position:absolute; inset:0; display:flex; flex-direction:column; justify-content:flex-end; padding:14px; background: linear-gradient(180deg, transparent 40%, rgba(0,0,0,.45))}
.sceneName{font-weight:850; font-size:18px}
.sceneTip{font-size:12px; color: rgba(255,255,255,.70); margin-top:4px}
.sceneInfo{display:flex; flex-direction:column; gap:10px}
.kv{display:grid; grid-template-columns:90px 1fr; gap:10px; padding:10px 12px; border-radius:16px; border:1px solid rgba(255,255,255,.10); background: rgba(255,255,255,.04)}
.k{color: rgba(255,255,255,.70); font-size:12px}
.v{font-weight:750; line-height:1.35}
.modalActions{display:flex; gap:10px; flex-wrap:wrap}
.note{margin-top:2px; padding:10px 12px; border-radius:16px; border:1px dashed rgba(255,255,255,.14); color: rgba(255,255,255,.72); font-size:12px; line-height:1.45}
.foot{padding:18px 14px 30px; text-align:center; color: rgba(255,255,255,.45); font-size:12px}
