/* REALIA Complete Demo (No build / static) */
:root{
  --bg0:#050814;
  --bg1:#071021;
  --card: rgba(10,16,38,.55);
  --stroke: rgba(255,255,255,.10);
  --text: rgba(234,240,255,.92);
  --muted: rgba(234,240,255,.60);
}
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font-family: ui-sans-serif, system-ui, -apple-system, "Hiragino Kaku Gothic ProN", "Noto Sans JP", "Segoe UI", Roboto, Arial, sans-serif;
  color: var(--text);
  background: radial-gradient(1200px 900px at 20% 10%, #0f1a3a 0%, var(--bg1) 55%, var(--bg0) 100%);
  overflow-x:hidden;
}
/* Background city layers (A/B switch via data-world) */
body::before, body::after{
  content:"";
  position:fixed;
  inset:0;
  pointer-events:none;
  z-index:-2;
}
body::before{
  background:
    radial-gradient(900px 650px at 70% 20%, rgba(120,180,255,.16) 0%, transparent 60%),
    radial-gradient(900px 650px at 25% 10%, rgba(160,110,255,.14) 0%, transparent 60%),
    radial-gradient(1200px 900px at 40% 110%, rgba(0,0,0,.55) 0%, transparent 70%);
}
body::after{
  opacity:.55;
  background-image:
    linear-gradient(to bottom, rgba(0,0,0,.55), rgba(0,0,0,.10)),
    url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%221200%22%20height%3D%22600%22%3E%0A%3Cdefs%3E%0A%20%20%3ClinearGradient%20id%3D%22fade%22%20x1%3D%220%22%20x2%3D%220%22%20y1%3D%220%22%20y2%3D%221%22%3E%0A%20%20%20%20%3Cstop%20offset%3D%220%22%20stop-color%3D%22%23000%22%20stop-opacity%3D%220%22/%3E%0A%20%20%20%20%3Cstop%20offset%3D%221%22%20stop-color%3D%22%23000%22%20stop-opacity%3D%220.95%22/%3E%0A%20%20%3C/linearGradient%3E%0A%3C/defs%3E%0A%3Crect%20width%3D%221200%22%20height%3D%22600%22%20fill%3D%22url%28%23fade%29%22/%3E%0A%3Cg%20fill%3D%22%23071022%22%3E%0A%20%20%3Crect%20x%3D%2220%22%20y%3D%22300%22%20width%3D%22120%22%20height%3D%22300%22/%3E%0A%20%20%3Crect%20x%3D%22170%22%20y%3D%22240%22%20width%3D%22110%22%20height%3D%22360%22/%3E%0A%20%20%3Crect%20x%3D%22310%22%20y%3D%22280%22%20width%3D%22140%22%20height%3D%22320%22/%3E%0A%20%20%3Crect%20x%3D%22480%22%20y%3D%22210%22%20width%3D%22120%22%20height%3D%22390%22/%3E%0A%20%20%3Crect%20x%3D%22620%22%20y%3D%22260%22%20width%3D%22180%22%20height%3D%22340%22/%3E%0A%20%20%3Crect%20x%3D%22830%22%20y%3D%22230%22%20width%3D%22150%22%20height%3D%22370%22/%3E%0A%20%20%3Crect%20x%3D%221010%22%20y%3D%22290%22%20width%3D%22160%22%20height%3D%22310%22/%3E%0A%3C/g%3E%0A%3Cg%20stroke%3D%22%239fdcff%22%20stroke-opacity%3D%220.15%22%3E%0A%20%20%3Cpath%20d%3D%22M0%20420H1200%22%20/%3E%0A%20%20%3Cpath%20d%3D%22M0%20460H1200%22%20/%3E%0A%20%20%3Cpath%20d%3D%22M0%20500H1200%22%20/%3E%0A%3C/g%3E%0A%3C/svg%3E");
  background-size: cover, 1200px 600px;
  background-position: center, center bottom;
  mix-blend-mode: screen;
  z-index:-3;
}
/* A: cyber */
body[data-world="cyber"]{
  background: radial-gradient(1200px 900px at 20% 10%, #0e1940 0%, #071021 55%, #040614 100%);
}
body[data-world="cyber"]::before{
  background:
    radial-gradient(900px 650px at 70% 20%, rgba(100,180,255,.18) 0%, transparent 60%),
    radial-gradient(900px 650px at 25% 10%, rgba(180,110,255,.16) 0%, transparent 60%),
    repeating-linear-gradient(120deg, rgba(255,255,255,.03) 0px, rgba(255,255,255,.03) 1px, transparent 4px, transparent 22px);
  opacity:.9;
}
body[data-world="cyber"] .cityBackdrop{
  background:
    radial-gradient(1200px 800px at 40% 20%, rgba(120,180,255,.10) 0%, transparent 55%),
    radial-gradient(900px 650px at 70% 30%, rgba(160,110,255,.10) 0%, transparent 55%),
    linear-gradient(to bottom, rgba(0,0,0,.35), rgba(0,0,0,.75));
}
/* B: luxury */
body[data-world="luxury"]{
  background: radial-gradient(1200px 900px at 20% 10%, #1a2a55 0%, #071021 55%, #050814 100%);
}
body[data-world="luxury"]::before{
  background:
    radial-gradient(1100px 700px at 60% 18%, rgba(160,220,255,.18) 0%, transparent 60%),
    radial-gradient(1000px 700px at 18% 12%, rgba(130,255,220,.10) 0%, transparent 60%),
    radial-gradient(1200px 900px at 50% 120%, rgba(0,0,0,.55) 0%, transparent 70%);
  opacity:1;
}
body[data-world="luxury"] .cityBackdrop{
  background:
    radial-gradient(1200px 800px at 40% 20%, rgba(200,240,255,.10) 0%, transparent 55%),
    radial-gradient(900px 650px at 70% 30%, rgba(120,255,220,.08) 0%, transparent 55%),
    linear-gradient(to bottom, rgba(0,0,0,.22), rgba(0,0,0,.70));
}
/* Top bar */
.topbar{
  position:sticky; top:0; z-index:5;
  padding:14px 16px;
  border-bottom:1px solid var(--stroke);
  backdrop-filter: blur(10px);
  background: rgba(5,8,20,.55);
  display:flex; gap:14px; align-items:center; justify-content:space-between;
}
.brand{display:flex; gap:10px; align-items:center}
.logo{
  width:38px;height:38px;border-radius:12px;
  display:grid;place-items:center;
  background: linear-gradient(135deg, rgba(120,180,255,.9), rgba(160,110,255,.9));
  font-weight:800;
}
.brandName{font-weight:800;letter-spacing:.4px}
.brandSub{font-size:12px;color:var(--muted)}
.topPills{display:flex; gap:8px; align-items:center; flex-wrap:wrap; justify-content:flex-end}
.pill{
  border:1px solid var(--stroke);
  background: rgba(10,16,38,.35);
  border-radius:999px;
  padding:8px 10px;
  font-size:12px;
}
.pill.subtle{color:var(--muted)}
/* Layout */
.wrap{max-width:1100px;margin:18px auto 40px;padding:0 14px}
.card{
  border:1px solid var(--stroke);
  background: rgba(10,16,38,.55);
  border-radius:20px;
  padding:16px;
  box-shadow: 0 22px 70px rgba(0,0,0,.35);
}
.hidden{display:none !important}
.heroTitle{margin:0 0 8px;font-size:28px}
.heroDesc{margin:0 0 14px;color:var(--muted)}
.entranceGrid{display:grid;grid-template-columns:1fr 1fr;gap:12px}
@media (max-width:900px){.entranceGrid{grid-template-columns:1fr}}
.entranceCard{
  border:1px solid var(--stroke);
  background: rgba(10,16,38,.35);
  border-radius:18px;
  padding:14px;
}
.entranceCard h3{margin:0 0 6px}
.entranceCard p{margin:0 0 12px;color:var(--muted);font-size:13px}
.smallNote{margin-top:12px;color:var(--muted);font-size:12px}
.worldHeader{margin-bottom:12px}
.worldTitle{margin:0 0 6px}
.worldDesc{margin:0;color:var(--muted);font-size:13px}
.worldLayout{display:grid;grid-template-columns:1.2fr .8fr;gap:12px}
@media (max-width:900px){.worldLayout{grid-template-columns:1fr}}
.mapWrap{position:relative;min-height:420px}
.cityBackdrop{
  position:absolute; inset:0;
  border-radius:18px;
  border:1px solid var(--stroke);
  overflow:hidden;
}
.map{
  position:relative;
  height:420px;
  border-radius:18px;
  overflow:hidden;
  background: rgba(0,0,0,.18);
}
.floorGrid{
  position:absolute; inset:0;
  opacity:.35;
  background-image:
    linear-gradient(to right, rgba(255,255,255,.08) 1px, transparent 1px),
    linear-gradient(to bottom, rgba(255,255,255,.08) 1px, transparent 1px);
  background-size:48px 48px;
  transform: perspective(900px) rotateX(60deg) translateY(-90px);
  transform-origin:center;
}
.player{
  position:absolute;
  width:18px;height:18px;border-radius:999px;
  background: rgba(120,180,255,.95);
  box-shadow:0 0 20px rgba(120,180,255,.55);
  border:1px solid rgba(255,255,255,.25);
  transform: translate(-50%,-50%);
}
.gate{position:absolute;width:74px;height:74px;transform: translate(-50%,-50%)}
.gateRing{position:absolute; inset:0;border-radius:999px;border:2px solid rgba(120,180,255,.65);box-shadow:0 0 30px rgba(120,180,255,.25)}
.gateCore{position:absolute; inset:18px;border-radius:999px;background: radial-gradient(circle at 30% 30%, rgba(120,180,255,.95), rgba(120,180,255,.12));opacity:.85}
.npc{position:absolute;width:56px;height:56px;transform: translate(-50%,-50%)}
.npcAura{position:absolute; inset:0;border-radius:999px;border:2px solid rgba(160,110,255,.60);box-shadow:0 0 30px rgba(160,110,255,.25)}
.npcCore{position:absolute; inset:16px;border-radius:999px;background: radial-gradient(circle at 30% 30%, rgba(160,110,255,.95), rgba(160,110,255,.12));opacity:.85}
/* Joystick */
.joystick{position:absolute;left:14px;bottom:14px;width:120px;height:120px;display:none}
@media (hover:none) and (pointer:coarse){.joystick{display:block}}
.joyBase{position:absolute; inset:0;border-radius:999px;border:1px solid rgba(255,255,255,.14);background: rgba(0,0,0,.25);backdrop-filter: blur(6px)}
.joyKnob{position:absolute;left:50%;top:50%;width:44px;height:44px;border-radius:999px;transform: translate(-50%,-50%);background: rgba(255,255,255,.10);border:1px solid rgba(255,255,255,.18);box-shadow:0 0 24px rgba(120,180,255,.18)}
.side .panel{border:1px solid var(--stroke);background: rgba(10,16,38,.35);border-radius:18px;padding:14px}
.panelTitle{font-weight:800;margin-bottom:8px}
.gateName{font-weight:800}
.gateDesc{color:var(--muted);font-size:13px;margin-top:4px}
.row{display:flex; gap:8px}
.divider{height:1px;background:rgba(255,255,255,.10);margin:12px 0}
.muted{color:var(--muted);font-size:12px;line-height:1.4}
.btn{
  border:1px solid rgba(255,255,255,.16);
  background: rgba(0,0,0,.18);
  color: var(--text);
  border-radius:14px;
  padding:10px 12px;
  font-weight:700;
  cursor:pointer;
  width:100%;
}
.btn:hover{background: rgba(255,255,255,.06)}
.btn:disabled{opacity:.45;cursor:not-allowed}
.btn.primary{
  background: linear-gradient(135deg, rgba(120,180,255,.90), rgba(160,110,255,.90));
  border-color: rgba(255,255,255,.22);
}
.btn.primary:hover{filter: brightness(1.02)}
.btn.ghost{background: transparent}
.chatBox{
  margin-top:10px;
  height:150px;
  overflow:auto;
  border:1px solid rgba(255,255,255,.10);
  border-radius:14px;
  padding:10px;
  background: rgba(0,0,0,.22);
  font-size:13px;
  line-height:1.5;
}
.chatRow{display:flex; gap:8px; margin-top:10px}
.chatInput{
  flex:1;
  padding:10px 12px;
  border-radius:14px;
  border:1px solid rgba(255,255,255,.14);
  background: rgba(0,0,0,.18);
  color: var(--text);
}
.chatInput::placeholder{color: rgba(234,240,255,.45)}
.miniRow{display:flex; gap:8px; margin-top:10px}
.miniRow .btn{width:50%}
.footer{margin-top:12px;text-align:center;color: rgba(234,240,255,.45);font-size:12px}
.areaTitle{margin:0 0 6px}
.areaDesc{margin:0 0 12px;color:var(--muted)}
.areaCard{border:1px solid var(--stroke);background: rgba(10,16,38,.35);border-radius:18px;padding:14px}
.avatarRow{display:flex; gap:10px; align-items:center; margin-bottom:10px}
.avatarBubble{width:44px;height:44px;border-radius:16px;display:grid;place-items:center;background: rgba(255,255,255,.08);border:1px solid rgba(255,255,255,.14);font-weight:900}
.avatarName{font-weight:900}
.areaChat{height:220px;overflow:auto;border:1px solid rgba(255,255,255,.10);border-radius:14px;padding:10px;background: rgba(0,0,0,.22);font-size:13px;line-height:1.5}
