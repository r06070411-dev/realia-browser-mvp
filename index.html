<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>REALIA Browser Open World (Complete)</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body data-world="cyber">
  <header class="topbar">
    <div class="brand">
      <div class="logo">R</div>
      <div class="brandText">
        <div class="brandName">REALIA</div>
        <div class="brandSub">Browser Open World / Complete Demo</div>
      </div>
    </div>

    <div class="topPills">
      <div class="pill" id="uiAreaLabel">Area: Entrance</div>
      <div class="pill subtle" id="uiHint">入口を選んでワールドへ</div>
    </div>
  </header>

  <main class="wrap">
    <!-- ENTRANCE -->
    <section id="entranceSection" class="card hero">
      <h1 class="heroTitle">REALIA 入口</h1>
      <p class="heroDesc">入り口を選ぶと、世界観とエリア（ゲート）が切り替わります。</p>

      <div class="entranceGrid">
        <article class="entranceCard">
          <h3>入口A：超サイバー（ネオン/霧/雨）</h3>
          <p>暗い街並み。ホログラム広告とネオンの反射。</p>
          <button id="enterA" class="btn primary">入口Aから入る</button>
        </article>

        <article class="entranceCard">
          <h3>入口B：高級近未来（六本木系/洗練）</h3>
          <p>明るめで上質。クリーンな光とホログラム。</p>
          <button id="enterB" class="btn primary">入口Bから入る</button>
        </article>
      </div>

      <div class="smallNote">
        操作：PCはWASD/矢印。スマホは左下のスティックで移動できます。
      </div>
    </section>

    <!-- WORLD -->
    <section id="worldSection" class="card hidden">
      <div class="worldHeader">
        <h2 class="worldTitle">オープンワールド</h2>
        <p class="worldDesc">ゲート（青い円）に近づくと「このエリアに入る」が有効になります。</p>
      </div>

      <div class="worldLayout">
        <!-- MAP -->
        <div class="mapWrap">
          <div class="cityBackdrop" aria-hidden="true"></div>

          <div class="map" id="map">
            <div class="grid floorGrid" aria-hidden="true"></div>

            <div class="gate" id="gate">
              <div class="gateRing"></div>
              <div class="gateCore"></div>
            </div>

            <div class="npc" id="npc">
              <div class="npcAura"></div>
              <div class="npcCore"></div>
            </div>

            <div class="player" id="player"></div>
          </div>

          <!-- Joystick (mobile) -->
          <div class="joystick" id="joystick" aria-label="移動スティック">
            <div class="joyBase"></div>
            <div class="joyKnob" id="joyKnob"></div>
          </div>
        </div>

        <!-- SIDE UI -->
        <aside class="side">
          <div class="panel">
            <div class="panelTitle">ゲート</div>
            <div class="gateInfo">
              <div class="gateName" id="gateName">-</div>
              <div class="gateDesc" id="gateDesc">-</div>
            </div>

            <div class="row">
              <button class="btn" id="btnPrev">前のエリア</button>
              <button class="btn" id="btnNext">次のエリア</button>
            </div>

            <button class="btn primary" id="enterAreaBtn" disabled>このエリアに入る</button>

            <div class="divider"></div>

            <div class="panelTitle">AI接客（簡易）</div>
            <div class="muted">
              NPC（紫の円）に近づくと「話す」が有効になります。
            </div>

            <button class="btn" id="talkBtn" disabled>話す（近くで有効）</button>

            <div class="chatBox" id="chatLog" aria-label="チャットログ"></div>

            <div class="chatRow">
              <input id="chatInput" class="chatInput" placeholder="例：予算100万円で外壁塗装できる？" />
              <button id="sendBtn" class="btn primary">送信</button>
            </div>

            <div class="miniRow">
              <button class="btn ghost" id="btnBackToEntrance">入口へ戻る</button>
              <button class="btn ghost" id="btnReset">リセット</button>
            </div>
          </div>
        </aside>
      </div>
    </section>

    <!-- AREA VIEW -->
    <section id="areaSection" class="card hidden">
      <h2 class="areaTitle" id="areaTitle">Area</h2>
      <p class="areaDesc" id="areaDesc">Description</p>

      <div class="areaCard">
        <div class="avatarRow">
          <div class="avatarBubble">AI</div>
          <div>
            <div class="avatarName" id="areaAvatarName">AIコンシェルジュ</div>
            <div class="muted" id="areaAvatarHint">ここでAI接客（簡易）を行う想定です。</div>
          </div>
        </div>

        <div class="areaChat" id="areaChatLog"></div>

        <div class="chatRow">
          <input id="areaChatInput" class="chatInput" placeholder="例：このエリアの店舗を見せて" />
          <button id="areaSendBtn" class="btn primary">送信</button>
        </div>

        <div class="miniRow">
          <button class="btn" id="btnReturnToWorld">ワールドへ戻る</button>
          <button class="btn ghost" id="btnBackToEntrance2">入口へ戻る</button>
        </div>
      </div>
    </section>

    <footer class="footer">© REALIA Demo</footer>
  </main>

  <script src="app.js"></script>
</body>
</html>
